!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.SplittingImage=t()}(this,function(){"use strict";function e(e,s){return s=s||{},t(e).map(function(e,t){return e._splitImg||(e._splitImg=r(e,s),e.classList&&e.classList.add("splitting-image")),e._splitImg})}function t(e,t){return Array.prototype.slice.call(e.nodeName?[e]:e[0].nodeName?e:(t||document).querySelectorAll(e),0)}function r(e,t){var r=e.parentNode;if(r){var s=document.createTextNode("");r.replaceChild(s,e)}var l,o,n=t.image||e.dataset&&e.dataset.image||e.currentSrc||e.src,a=t.rows||e.dataset&&e.dataset.rows||1,c=t.cols||e.dataset&&e.dataset.cols||1,i=0,d=0,u=[];for(n||(n=(n=e.querySelector("img"))&&(n.currentSrc||n.src)),n&&e.style.setProperty("background-image","url("+n+")");i<a;i++)for(d=0;d<c;d++)(l=document.createElement("div")).className="split-cell",l.style.setProperty("--row-index",i),l.style.setProperty("--col-index",d),l.style.setProperty("--cell-index",u.length),l.setAttribute("data-row",i),l.setAttribute("data-col",d),(o=document.createElement("span")).className="split-cell__inner",l.appendChild(o),e.appendChild(l),u.push(l);return e.style.setProperty("--row-total",a),e.style.setProperty("--col-total",c),e.style.setProperty("--cell-total",u.length),r&&r.replaceChild(e,s),{el:e,cells:u,rows:a,cols:c}}return e.$=t,e.split=r,e.rows=function(t,r,s){return e(t,s=Object.assign({},s,{cols:1,rows:r}))},e.cols=function(t,r,s){return e(t,s=Object.assign({},s,{rows:1,cols:r}))},e});