!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.SplittingImage=t()}(this,function(){"use strict";function e(e,s){return s=s||{},t(e).map(function(e,t){return e._splitImg||(e._splitImg=r(e,s),e.classList&&e.classList.add("splitting-image")),e._splitImg})}function t(e,t){return Array.prototype.slice.call(e.nodeName?[e]:e[0].nodeName?e:(t||document).querySelectorAll(e),0)}function r(e,t){var r=e.parentNode;r&&r.replaceChild(document.createTextNode(""),e);var s,l,o=t.image||e.dataset&&e.dataset.image||e.currentSrc||e.src,n=t.rows||e.dataset&&e.dataset.rows||1,a=t.cols||e.dataset&&e.dataset.cols||1,c=0,i=0,d=[];for(o||(o=(o=e.querySelector("img"))&&(o.currentSrc||o.src)),o&&e.style.setProperty("background-image","url("+o+")");c<n;c++)for(i=0;i<a;i++)(s=document.createElement("div")).className="split-cell",s.style.setProperty("--row-index",c),s.style.setProperty("--col-index",i),s.style.setProperty("--cell-index",d.length),s.setAttribute("data-row",c),s.setAttribute("data-col",i),(l=document.createElement("span")).className="split-cell__inner",s.appendChild(l),e.appendChild(s),d.push(s);return e.style.setProperty("--row-total",n),e.style.setProperty("--col-total",a),e.style.setProperty("--cell-total",d.length),r&&r.replaceChild(e,temp),{el:e,cells:d,rows:n,cols:a}}return e.$=t,e.split=r,e.rows=function(t,r,s){return e(t,s=Object.assign({},s,{cols:1,rows:r}))},e.cols=function(t,r,s){return e(t,s=Object.assign({},s,{rows:1,cols:r}))},e});